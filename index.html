<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Consumindo - The Movie DB-API</title>
	<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
	<script src="js/vue.js"></script>
	<script type="text/javascript" src="js/axios.min.js"></script>
	<script type="text/javascript" src="js/jquery.min.js"></script>
	<script type="text/javascript" src="js/popper.min.js"></script>
	<script type="text/javascript" src="js/bootstrap4.min.js"></script>


	<link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,200;0,300;0,400;0,500;1,100;1,200;1,300;1,400;1,500&display=swap" rel="stylesheet">

</head>
<body>

	<div id="app">
		<div class="container">
			<h2 class="text-center mt-5">The Movie Database</h2>

			

			<div class="row">
				
					<div class="col-lg-12">
					
						<input type="text"
					   class="form-control"  name="source" v-model = "source" id="" aria-describedby="helpId" placeholder="Que filme ou seriado procura? ">
					  </div>
					 	
		
				
			 </div>
			</form>	
	<!-- Listagem dos filmes -->
		<div class="container mt-5">
			<h3>Filmes</h3>
			<hr>
		</div>
			<div class="row" v-cloak >
				
				<div v-for="(movie, index) in filteredMovies"   class="col-md-4 col-xl-3 col-sm-6 col-xs-12 mt-5">
				
			
				
						<div class="card"  >
							<img class="card-img-top" :src="imagePath+movie.poster_path" :alt="movie.title" :title="movie.title">
							<div class="card-body">
							  <h5 class="card-title">{{movie.title}}</h5>
							  <p class="card-text">{{movie.overview.slice(0,120)}}...</p>
							 <button type="button" class="btn btn-primary" @click="read_more(index)">Ver Mais</button>
							</div>
						  </div>
				
					
					
				</div>
			</div>

			<button v-cloak  v-if="!loading" style="cursor: pointer"  class="mt-5 form-control mb-5 btn btn-info"  @click.prevent="load_more">Ver Mais</button>
			<div v-if="loading" v-cloak class="text-center mt-3 mb-5">
				<img src="image/loader.gif">
			</div>



				<!-- Listagem das Series -->
		<div class="container mt-5">
			<h3>Seriados</h3>
			<hr>
		</div>
			<div class="row" v-cloak >
				
				<div v-for="(tvshow, index) in filteredTvShow"   class="col-md-4 col-xl-3 col-sm-6 col-xs-12 mt-5">
				
			
				
						<div class="card"  >
							<img class="card-img-top" :src="imagePath+tvshow.poster_path" :alt="tvshow.name" :title="tvshow.name">
							<div class="card-body">
							  <h5 class="card-title">{{tvshow.name}}</h5>
							  <p class="card-text">{{tvshow.overview.slice(0,120)}}...</p>
							 <button type="button" class="btn btn-primary" @click="read_more_tv(index)">Ver Mais</button>
							</div>
						  </div>
				
					
					
				</div>
			</div>

			<button v-cloak  v-if="!loading" style="cursor: pointer"  class="mt-5 form-control mb-5 btn btn-info"  @click.prevent="load_more_tv">Ver Mais</button>
			<div v-if="loading" v-cloak class="text-center mt-3 mb-5">
				<img src="image/loader.gif">
			</div>

		</div>

		<div class="modal" id="ShowInfo" tabindex="-1" role="dialog">
		  <div class="modal-dialog  modal-lg" role="document">
		    <div class="modal-content">
		      <div class="modal-header">
		        <h5 class="modal-title">{{title}}</h5>
		        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
		          <span aria-hidden="true">&times;</span>
		        </button>
		      </div>
		      <div class="modal-body">
		      	<div class="text-center">
		      		<img class="img-thumbnail" :src="poster" width="30%">
		      	</div><br>
		        <p><b>Movie Title : </b>{{title}}</p>
		        <p><b>Release Date  : </b>{{release_date}}</p>
		        <p><b>Vote Average : </b>{{vote_avg}}</p>
		        <p><b>Vote Count : </b>{{vote_count}}</p>
		        <p><b>Language : </b>{{lang}}</p>
		        <p><b>Overview : </b><br>{{overview}}</p>
		      </div>
		      <div class="modal-footer">
		        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
		      </div>
		    </div>
		  </div>
		</div>

	</div>



	
	<script type="text/javascript" src="js/src/movies.js"></script>


</body>
</html>